# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã –ø–∞–¥–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è **—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–∞–¥–∞–µ—Ç** —Å –æ—à–∏–±–∫–æ–π, —Ö–æ—Ç—è –æ–ø–µ—Ä–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å–ø–µ—à–Ω–æ–π.

## –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ö–†–ò–¢–ò–ß–ù–û: –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å `null`

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-zerde/src/service/api.js:609`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–µ—Ç–æ–¥ `getTeachers()` –ø—Ä–æ–±—É–µ—Ç 3 —Ä–∞–∑–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –≤ —Ü–∏–∫–ª–µ
- –ï—Å–ª–∏ –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è `lastError`
- –ù–æ –µ—Å–ª–∏ —Ü–∏–∫–ª –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –Ω–∏ —Ä–∞–∑—É (—á—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ), `lastError` –º–æ–∂–µ—Ç –±—ã—Ç—å `null`
- –ó–∞—Ç–µ–º –±—Ä–æ—Å–∞–µ—Ç—Å—è `throw lastError`, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å `null` –≤–º–µ—Å—Ç–æ Error –æ–±—ä–µ–∫—Ç–∞
- –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º—É –∏—Å–∫–ª—é—á–µ–Ω–∏—é, –∫–æ—Ç–æ—Ä–æ–µ –∫—Ä–∞—à–∏—Ç React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–ö–æ–¥ –ø—Ä–æ–±–ª–µ–º—ã:**
```javascript
// api.js:594-609
let lastError = null;

for (const endpoint of endpoints) {
  try {
    const result = await this.request(endpoint);
    return result;
  } catch (error) {
    lastError = error;
  }
}

// ‚ùå –ü–†–û–ë–õ–ï–ú–ê: lastError –º–æ–∂–µ—Ç –±—ã—Ç—å null, –µ—Å–ª–∏ —Ü–∏–∫–ª –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è
throw lastError;  // –ú–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å null –≤–º–µ—Å—Ç–æ Error
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- React –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å `null` –≤–º–µ—Å—Ç–æ Error –æ–±—ä–µ–∫—Ç–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å —Å "Cannot read property 'message' of null"
- –ò–ª–∏ React Error Boundary –º–æ–∂–µ—Ç –Ω–µ –ø–æ–π–º–∞—Ç—å —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `front-zerde/src/service/api.js` (—Å—Ç—Ä–æ–∫–∞ 594-609)

---

### 2. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-zerde/src/components/Teachers/index.js:335-338`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `deleteTeacher()` —Å—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `fetchTeachers()`
- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 403 –Ω–∞ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å JWT —Ñ–∏–ª—å—Ç—Ä–æ–º –Ω–∞ –±—ç–∫–µ–Ω–¥–µ), —Ç–æ:
  - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–∂–µ —É–¥–∞–ª–µ–Ω –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –ù–æ `fetchTeachers()` –ø–∞–¥–∞–µ—Ç —Å 403
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

**–ö–æ–¥ –ø—Ä–æ–±–ª–µ–º—ã:**
```javascript
// Teachers/index.js:335-338
try {
  await apiService.deleteTeacher(teacherId);
  await fetchTeachers();  // ‚ùå –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å —Å 403, –¥–∞–∂–µ –µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ
  success('–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
} catch (error) {
  // –û—à–∏–±–∫–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞, –Ω–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–∂–µ —É–¥–∞–ª–µ–Ω!
}
```

**–°—Ü–µ–Ω–∞—Ä–∏–π –æ—à–∏–±–∫–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
2. `deleteTeacher()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK (—É–¥–∞–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ)
3. –ë—ç–∫–µ–Ω–¥ –ø–∞–¥–∞–µ—Ç –∏–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 403 –Ω–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
4. `fetchTeachers()` –ø–æ–ª—É—á–∞–µ—Ç 403
5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –Ω–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–∂–µ —É–¥–∞–ª–µ–Ω
6. –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É –≤–º–µ—Å—Ç–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `front-zerde/src/components/Teachers/index.js` (—Å—Ç—Ä–æ–∫–∞ 335-338)

---

### 3. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null/undefined –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-zerde/src/service/api.js:609`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ `lastError` —Ä–∞–≤–µ–Ω `null` –∏–ª–∏ `undefined`, —Ç–æ `throw lastError` –≤—ã–±—Ä–æ—Å–∏—Ç –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞—é—Ç –æ–±—ä–µ–∫—Ç Error —Å –ø–æ–ª–µ–º `message`, –º–æ–≥—É—Ç —É–ø–∞—Å—Ç—å

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∫—Ä–∞—à:**
```javascript
// –ï—Å–ª–∏ lastError = null
throw lastError;  // –ë—Ä–æ—Å–∞–µ—Ç null

// –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ:
catch (error) {
  console.error(error.message);  // ‚ùå TypeError: Cannot read property 'message' of null
}
```

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `front-zerde/src/service/api.js` (—Å—Ç—Ä–æ–∫–∞ 609)

---

### 4. ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º loading –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-zerde/src/components/Teachers/index.js:66-106`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `fetchTeachers()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `setLoading(true)` –≤ –Ω–∞—á–∞–ª–µ
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –≤ –±–ª–æ–∫–µ `finally` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `setLoading(false)`
- –ù–æ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ `handleDeleteTeacher` –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `fetchTeachers()`, —Å–æ—Å—Ç–æ—è–Ω–∏–µ loading –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è `true`
- –≠—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É —Å–ø–∏–Ω–Ω–µ—Ä—É –∑–∞–≥—Ä—É–∑–∫–∏

**–ö–æ–¥:**
```javascript
// Teachers/index.js:335-338
try {
  await apiService.deleteTeacher(teacherId);
  await fetchTeachers();  // setLoading(true) –≤–Ω—É—Ç—Ä–∏
  // –ï—Å–ª–∏ –∑–¥–µ—Å—å –æ—à–∏–±–∫–∞, loading –æ—Å—Ç–∞–µ—Ç—Å—è true
} catch (error) {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏, –Ω–æ loading –º–æ–∂–µ—Ç –±—ã—Ç—å true
}
```

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `front-zerde/src/components/Teachers/index.js` (—Å—Ç—Ä–æ–∫–∞ 66-106, 335-338)

---

### 5. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π 403 –≤ getTeachers()

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-zerde/src/service/api.js:596-609`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–µ—Ç–æ–¥ `getTeachers()` –ø—Ä–æ–±—É–µ—Ç 3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –ï—Å–ª–∏ –≤—Å–µ 3 –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 403, —Ç–æ –∫–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –æ—à–∏–±–∫–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ
- –ü–æ—Å–ª–µ 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞
- –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–æ–ª—å—à–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–º–µ–¥–ª–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã

**–ö–æ–¥:**
```javascript
// api.js:596-609
for (const endpoint of endpoints) {
  try {
    const result = await this.request(endpoint);
    return result;
  } catch (error) {
    console.log(`API: ‚ùå –≠–Ω–¥–ø–æ–∏–Ω—Ç ${endpoint} –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:`, error.message);
    lastError = error;
    // ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–∞–∂–µ –ø—Ä–∏ 403
    // –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤–µ—Ä–Ω—É–ª 403, –≤–µ—Ä–æ—è—Ç–Ω–æ –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–æ–∂–µ –≤–µ—Ä–Ω—É—Ç 403
  }
}
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤–µ—Ä–Ω—É–ª 403, –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ
- –≠—Ç–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É

---

### 6. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-zerde/src/service/api.js:116`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ "–ø–∞–¥–∞–µ—Ç" (–Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, —Ç–∞–π–º–∞—É—Ç, —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã), `fetch()` –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å `TypeError` –∏–ª–∏ `NetworkError`
- –¢–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ try-catch –±–ª–æ–∫–∞—Ö
- React –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ Promise rejection

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
```javascript
// –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é
const response = await fetch(url, config);  // ‚ùå –ú–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å NetworkError
// –≠—Ç–æ—Ç NetworkError –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –ø–æ–π–º–∞–Ω –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
```

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `front-zerde/src/service/api.js` (—Å—Ç—Ä–æ–∫–∞ 116)

---

## –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–∞–¥–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–∞–¥–µ–Ω–∏–µ –∏–∑-–∑–∞ null –æ—à–∏–±–∫–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
2. –ë—ç–∫–µ–Ω–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ, –Ω–æ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –æ—Ç–≤–µ—Ç–∞ (–∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 403)
3. `deleteTeacher()` –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É –∏–ª–∏ —É—Å–ø–µ—Ö (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–º–µ–Ω—Ç–∞ –ø–∞–¥–µ–Ω–∏—è)
4. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `fetchTeachers()`
5. –ú–µ—Ç–æ–¥ `getTeachers()` –ø—Ä–æ–±—É–µ—Ç 3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞, –≤—Å–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É
6. –ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ —Ü–∏–∫–ª –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª –æ—à–∏–±–∫—É, `lastError = null`
7. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `throw lastError` (–≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è `null`)
8. –í `fetchTeachers()` catch –±–ª–æ–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ `error.message`
9. **–ö–†–ê–®:** `TypeError: Cannot read property 'message' of null`
10. React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–¥–∞–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–∞–¥–µ–Ω–∏–µ –∏–∑-–∑–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
2. –°–µ—Ä–≤–µ—Ä —É–¥–∞–ª—è–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä –ø–∞–¥–∞–µ—Ç (–∏–ª–∏ —Ç–µ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)
4. `deleteTeacher()` –ø–æ–ª—É—á–∞–µ—Ç NetworkError –∏–ª–∏ ECONNREFUSED
5. –û—à–∏–±–∫–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
6. React –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ Promise rejection
7. **–ö–†–ê–®:** Unhandled Promise Rejection –≤ React

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è loading

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
2. `deleteTeacher()` —É—Å–ø–µ—à–µ–Ω, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `fetchTeachers()`
3. `fetchTeachers()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `setLoading(true)`
4. `getTeachers()` –ø–æ–ª—É—á–∞–µ—Ç 403 –Ω–∞ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
5. –û—à–∏–±–∫–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è, –Ω–æ `setLoading(false)` –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å
6. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —Å `loading = true` –Ω–∞–≤—Å–µ–≥–¥–∞
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å–ø–∏–Ω–Ω–µ—Ä
8. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º

---

## –î–µ—Ç–∞–ª–∏ –∫–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ: throw null

**–§–∞–π–ª:** `front-zerde/src/service/api.js`
```javascript
// –°—Ç—Ä–æ–∫–∞ 594-609
let lastError = null;

for (const endpoint of endpoints) {
  try {
    const result = await this.request(endpoint);
    return result;
  } catch (error) {
    console.log(`API: ‚ùå –≠–Ω–¥–ø–æ–∏–Ω—Ç ${endpoint} –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:`, error.message);
    lastError = error;
  }
}

// ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê
throw lastError;  // –ú–æ–∂–µ—Ç –±—ã—Ç—å null!
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```javascript
if (lastError) {
  throw lastError;
} else {
  throw new Error('–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã');
}
```

### 2. –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

**–§–∞–π–ª:** `front-zerde/src/components/Teachers/index.js`
```javascript
// –°—Ç—Ä–æ–∫–∞ 335-338
try {
  await apiService.deleteTeacher(teacherId);
  await fetchTeachers();  // ‚ùå –ï—Å–ª–∏ –∑–¥–µ—Å—å 403, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–∂–µ —É–¥–∞–ª–µ–Ω
  success('–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
} catch (error) {
  // –û—à–∏–±–∫–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞, –Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ
  if (error.message.includes('403')) {
    showError('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω...');
  } else {
    showError(`–û—à–∏–±–∫–∞: ${error.message}`);
  }
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —É—Å–ø–µ—à–Ω–æ –ª–∏ –ø—Ä–æ—à–ª–æ —É–¥–∞–ª–µ–Ω–∏–µ
- –ù–µ—Ç –æ—Ç–∫–∞—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è –∏ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### 1. –°—Ä–æ—á–Ω–æ: –ò—Å–ø—Ä–∞–≤–∏—Ç—å throw null

–í `api.js:609` –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
```javascript
if (lastError) {
  throw lastError;
} else {
  throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ: –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã');
}
```

### 2. –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ handleDeleteTeacher

```javascript
try {
  await apiService.deleteTeacher(teacherId);
  
  // –ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
  try {
    await fetchTeachers();
    success('–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
  } catch (fetchError) {
    // –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω, –Ω–æ —Å–ø–∏—Å–æ–∫ –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å
    success('–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
    warning('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
    // –í—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  }
} catch (error) {
  // –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏
  showError(`–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ${error.message}`);
}
```

### 3. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫

–í `api.js` –æ–±–µ—Ä–Ω—É—Ç—å `fetch()` –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π try-catch:
```javascript
try {
  const response = await fetch(url, config);
  // ...
} catch (networkError) {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
  if (networkError instanceof TypeError) {
    throw new Error('–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.');
  }
  throw networkError;
}
```

### 4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å getTeachers()

–ü—Ä–µ–∫—Ä–∞—â–∞—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ 403:
```javascript
for (const endpoint of endpoints) {
  try {
    const result = await this.request(endpoint);
    return result;
  } catch (error) {
    lastError = error;
    // –ï—Å–ª–∏ —ç—Ç–æ 403, –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
    if (error.message.includes('403')) {
      break;
    }
  }
}
```

### 5. –î–æ–±–∞–≤–∏—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–Ω—è—Ç–∏–µ loading

–í `handleDeleteTeacher`:
```javascript
try {
  setLoading(true);
  await apiService.deleteTeacher(teacherId);
  await fetchTeachers();
  success('–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
} catch (error) {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
} finally {
  setLoading(false);  // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å–Ω–∏–º–∞–µ–º loading
}
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```javascript
console.error('‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê –≤ getTeachers():', {
  lastError,
  lastErrorType: typeof lastError,
  lastErrorIsNull: lastError === null,
  endpoints
});
```

### Error Boundary

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å React Error Boundary –≤–æ–∫—Ä—É–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Teachers –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫.

---

## –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞
2024-12-19

## –°—Ç–∞—Ç—É—Å
üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –û–ë–ù–ê–†–£–ñ–ï–ù–´ - —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –°–º. `zerde/TEACHER_DELETION_PROBLEM_ANALYSIS.md` –¥–ª—è –ø—Ä–æ–±–ª–µ–º –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

